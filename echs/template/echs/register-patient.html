<!-- templates/uhid_options.html -->
{% extends 'base.html' %}
{% load static %}


{% block content %}
<div class="container">
    <!-- Group: Capture & Upload -->
    <div class="mt-2">
        <h6 class="mb-2 text-primary">Register Patient</h6>

        <form method="POST">
        {% csrf_token %}

            <div class="mb-3">
                        <label class="form-label">UHID</label>
                        <input type="text" name="uhid" value="{{ uhid }}" class="form-control" readonly>
                    </div>

                    <!-- Patient Name -->
                    <div class="mb-3">
                        <label class="form-label">Patient Name</label>
                        <input type="text" name="patient_name" class="form-control"
                            value="{{ patient.patient_name }}" required>
                    </div>

                    <!-- Mobile No -->
                    <div class="mb-3">
                        <label class="form-label">Mobile No</label>
                        <input type="text" name="mobile_no" class="form-control"
                               value="{{ patient.mobile_no }}" required>
                    </div>

                    <!-- Date of Admission -->
                    <div class="mb-3">
                        <label class="form-label">Date of Admission</label>
                        <input type="datetime-local" name="date_of_admission" class="form-control"
                            value="{{ patient.date_of_admission|date:'Y-m-d\\TH:i' }}" required>
                    </div>

                    <!-- Date of Discharge -->
                    <div class="mb-3">
                        <label class="form-label">Date of Discharge</label>
                        <input type="datetime-local" name="date_of_discharge" class="form-control"
                            value="{{ patient.date_of_discharge|date:'Y-m-d\\TH:i' }}">
                    </div>

                    {% if show_discharge_warning %}
                        <small class="text-danger">
                            Date of Discharge is required before selecting Discharge tag.
                        </small>
                    {% endif %}

                    <!-- Submit Button -->
                    <div class="d-flex justify-content-center">
                        <button type="submit" class="btn btn-sm btn-success mt-3 me-4">Save Patient</button>
                        <button type="button" class="btn btn-sm btn-secondary mt-3" 
                                onclick="window.location.href='{% url 'echs:echs_uhid_options' %}?uhid={{ uhid }}'">
                            Cancel
                        </button>
                    </div>
        </form>
        
    </div>

    <!-- Group: View -->
</div>
{% endblock %}


{% block extrahead %}
<style>
    .form-control {
        font-size: 14px;
        padding: 4px 8px;
        height: 32px;
    }
    .form-label {
        font-size: 14px;
        margin-bottom: 2px;
    }
    button.btn {
        font-size: 14px;
        padding: 6px;
    }
    .mb-3 {
        margin-bottom: 10px !important;
    }
</style>
{% endblock %}
