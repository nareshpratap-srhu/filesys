{% extends 'base.html' %}
{% load static %}

{% block extrahead %}
<link rel="stylesheet" href="{% static 'capture/css/capture_uhid_camera.css' %}">
{% endblock %}

{% block content %}
<div class="container text-center" id="uhid-container" data-year-prefix="{{ yearPrefix }}">

    <div class="d-flex align-items-center justify-content-center mb-4">
        <i class="fa-solid fa-circle-down fa-2x text-danger me-3" style="cursor: pointer;" onclick="adjustYearPrefix(-1)"></i>
        <span class="fw-bold fs-5">Change Year</span>
        <i class="fa-solid fa-circle-up fa-2x text-success ms-3" style="cursor: pointer;" onclick="adjustYearPrefix(1)"></i>
    </div>

    <!-- UHID Input -->
    <div class="mb-3 uhid-group position-relative" id="uhid-group">
        <label for="uhid" class="form-label fw-bold">Enter IP Number</label>
        <input type="text" id="uhid"
            class="form-control text-center uhid-matching-width mx-auto"
            placeholder="Enter UHID"
            readonly onclick="setActiveField('uhid')" value="{{ yearPrefix }}/">
    </div>

    <!-- Confirm UHID Input -->
    <div class="mb-3 uhid-group" id="confirm-group">
        <label for="confirm-uhid" class="form-label fw-bold">Confirm IP Number</label>
        <input type="text" id="confirm-uhid"
            class="form-control text-center uhid-matching-width mx-auto"
            placeholder="Confirm UHID"
            readonly onclick="setActiveField('confirm')" value="{{ yearPrefix }}/">
    </div>

    <!-- Keypad -->
    <div class="row g-2">
        {% for row in keypad_rows %}
        <div class="col-12 d-flex justify-content-center">
            {% for digit in row %}
                <button type="button" class="btn btn-light m-1 fs-2"
                    style="width: 70px; height: 70px;"
                    onclick="handleKeypad('{{ digit }}')">
                    {{ digit }}
                </button>
            {% endfor %}
        </div>
        {% endfor %}
    </div>

    <!-- Feedback Message -->
    <div id="feedback-message" class="mt-3" style="display: none;"></div>
</div>
{% endblock %}

{% block extrascripts %}
<script src="{% static 'capture/js/capture_uhid_camera.js' %}"></script>
{% endblock %}
